<!DOCTYPE html SYSTEM "about:legacy-compat" [
<!ENTITY nbsp "&#160;">
]>
<html lang="en" xmlns:th="http://www.hekkelman.com/libzeep/m2" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head th:replace="head :: head(~{::title}, ~{}, ~{::script})">
    <meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.6.0" />
    <title>Welcome - Phenosaurus</title>

    <script src="/scripts/index.js" th:src="@{/scripts/index.js}"></script>
    <script src="/scripts/admin-user.js" th:src="@{/scripts/admin-user.js}"></script>
</head>

<body>
    <nav th:replace="~{menu :: menu}"></nav>
    <div class="container">
        <div class="container row mt-3 mb-3">
            <div class="col-10">
                <h1>Users</h1>
            </div>
            <div class="col-1"><button id="add-user-btn" class="btn btn-primary">Add&nbsp;User</button></div>
        </div>
        <table id="user-table" class="table table-sm table-striped">
            <thead>
                <tr>
                    <th>Username</th>
                    <th>First name</th>
                    <th>Last name</th>
                    <th>e-mail</th>
                    <th>Active</th>
                    <th>Admin</th>
                    <th colspan="2">Action</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="user: ${users}">
                    <td th:text="${user.username}"></td>
                    <td th:text="${user.firstname}"></td>
                    <td th:text="${user.lastname}"></td>
                    <td th:text="${user.email}"></td>
                    <td><i th:if="${user.active}" class="fa fa-check"></i></td>
                    <td><i th:if="${user.admin}" class="fa fa-check"></i></td>
                    <td class="edit-user-btn" th:attr="data-id=${user.id}"><i class="fa fa-edit"></i></td>
                    <td class="delete-user-btn" th:attr="data-id=${user.id},data-name=${user.username}"><i
                            class="fa fa-trash"></i></td>
                </tr>
            </tbody>
        </table>
    </div>
    <!-- The user editor dialog: -->
    <div id="user-dialog" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-label">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="dialog-label">User editor</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">Ã—</span></button>
                </div>
                <div class="modal-body">
                    <form id="user-edit-form" th:action="@{/login}" method="post" name="user-edit-form"><input
                            type="hidden" name="id" value="" />
                        <div class="form-group row"><label for="id_username"
                                class="col-sm-2 col-form-label">User&nbsp;name</label>
                            <div class="col-sm-9"><input class="form-control" id="id_username" maxlength="254"
                                    name="username" placeholder="User name" type="text" required="" /></div>
                        </div>
                        <div class="form-group row"><label for="id_firstname"
                                class="col-sm-2 col-form-label">First&nbsp;name</label>
                            <div class="col-sm-10"><input class="form-control" id="id_firstname" maxlength="254"
                                    name="firstname" placeholder="First name" type="text" required="" /></div>
                        </div>
                        <div class="form-group row"><label for="id_lastname"
                                class="col-sm-2 col-form-label">Last&nbsp;name</label>
                            <div class="col-sm-10"><input class="form-control" id="id_lastname" maxlength="254"
                                    name="lastname" placeholder="Last name" type="text" required="" /></div>
                        </div>
                        <div class="form-group row"><label for="id_email" class="col-sm-2 col-form-label">E-mail</label>
                            <div class="col-sm-10"><input class="form-control" id="id_email" maxlength="254"
                                    name="email" placeholder="E-mail address" type="email" required="" /></div>
                        </div>
                        <div class="form-group row"><label for="id_password"
                                class="col-sm-2 col-form-label">Password</label>
                            <div class="col-sm-8"><input class="form-control" id="id_password" maxlength="254"
                                    name="password" type="password" /></div>
                            <div class="col-sm-1 show-password-btn"><abbr title="Show password"><i
                                        class="fa fa-eye"></i></abbr></div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-2"></div>
                            <div class="form-check">
                                <div class="col-sm-10"><input class="form-check-input" id="id_active" name="active"
                                        type="checkbox" /></div>
                                <label for="id_active" class="col-sm-2 form-check-label">Account&nbsp;active</label>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-2"></div>
                            <div class="form-check">
                                <div class="col-sm-10"><input class="form-check-input" id="id_superuser" name="admin"
                                        type="checkbox" /></div>
                                <label for="id_superuser" class="col-sm-2 form-check-label">Administrator</label>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <!--<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>-->
                    <button type="submit" form="user-edit-form" class="btn btn-primary">Save</button></div>
            </div>
        </div>
    </div>
    <footer th:replace="~{footer :: content}"></footer>
</body>

</html>